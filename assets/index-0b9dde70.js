import{_ as X,p as O,a1 as m,e as f,b as v}from"./calendar-c06bd7ad.js";import{t as H}from"./lodash-6a49fb5a.js";const C=()=>{const x=X(null),b=X(null),[o,g]=O(),R=()=>{const t=x.current,n=b.current;if(!t||!n)return;const s=t.width,e=t.height,r=n.clientWidth,h=n.clientHeight,d=r/s,l=h/e,i=Math.min(d,l);let c=s,a=e;i<1&&(c=i===d?r:r*i,a=i===l?h:h*i),g({width:c,height:a,transformX:(r-c)/2,transformY:(h-a)/2})},w=m((t=1.2,n=1/2,s=1/2)=>{g(e=>{if(!e)return;const{width:r,height:h,transformX:d,transformY:l}=e,i=r*t,c=h*t,a=Math.abs(i-r),p=Math.abs(c-h);return{width:i,height:c,transformX:d-a*n,transformY:l-p*s}})},[]),u=m((t=1.2,n=1/2,s=1/2)=>{g(e=>{if(!e)return;const{width:r,height:h,transformX:d,transformY:l}=e,i=r/t,c=h/t,a=Math.abs(i-r),p=Math.abs(c-h);return{width:i,height:c,transformX:d+a*n,transformY:l+p*s}})},[]),Y=m(t=>{var r;t.preventDefault();const n=(r=t.target)==null?void 0:r.getBoundingClientRect(),s=(t.clientX-n.x)/(n.right-t.clientX),e=(t.clientY-n.y)/(n.bottom-t.clientY);console.log(t.clientX-n.x,n.right-t.clientX,n,s,e),t.deltaY<0?w(1-t.deltaY/100/2,s,e):u(1+t.deltaY/100/2,s,e)},[w,u]),W=m(H(Y,60),[Y]);return f("div",{children:[f("div",{ref:b,className:"relative ml-[100px] mt-[100px] mb-[300px] h-[500px] w-[1000px] overflow-hidden border border-red-400",children:f("img",{ref:x,src:"/images/earth.jpeg",onLoad:R,onWheel:W,className:v("duration-200",!o&&"opacity-0"),style:{minWidth:o==null?void 0:o.width,height:o==null?void 0:o.height,transform:`translate(${o==null?void 0:o.transformX}px, ${o==null?void 0:o.transformY}px)`}})}),f("button",{onClick:()=>w(),children:"放大"}),f("button",{onClick:()=>u(),children:"缩小"})]})};export{C as default};
